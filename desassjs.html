<!DOCTYPE html>
<html lang="en">

<head>
    <style>

    </style>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Destructuring Assignment</title>
</head>

<body>

    <script>
        //Destructuring assignment adalah ekspresi pada javascript yg membuat kita dapat membongkar nilai dari array atau properti dari objek ke dalam variabel yang terpisah

        const coba = ["satu", "dua", "tiga"];
        const [oke, eko, eek] = coba; //untuk parameter tidak bisa menggunakan angka
        console.log(eek); //hasil "tiga"
        console.log(oke); //hasil "satu"
        console.log(eko); //hasil "dua"
        //////////////////////////////////////////

        //Destructuring assignment untuk object
        // const mhs = {
        //     nama: "wapek",
        //     umur: 30,
        //     email: "edolaku@gmail.com"
        // };
        // const {
        //     nama,
        //     umur,
        //     email
        // } = mhs 
        // ; //untuk objek, gunakan propertinya, tidak bisa menggunakan nama sembarang, untuk variabel juga dapat di assign ke variabel yang baru, yaitu dengan cara:
        // const{nama : n, umur : u. email : u = "edoooq@gmail.com"} = mhs;
        //jadi dengan cara diatas, variabel dari nama berubah menjadi n, variabel umur berubah menjadi u, variabel email berubah menjadi e, dan untuk variabel email mendapat nilai default yaitu edoooq@gmail.com, namun karena nilai email sudah diinisiasikan diatas dengan edolaku@gmail.com, maka yg akan tampil adalah edolaku@gmail.com, jika nilai email tidak diinisiasikan diatas, yang akan tampil adalah nilai default, yaitu edoooq@gmail.com
        //Destructuring assignment untuk object dapat digunakan dengan rest parameter:
        // const mhs = {
        //     nama: "wapek",
        //     umur: 30,
        //     email: "edolaku@gmail.com"
        // };
        // const{nama, ...nilai} = mhs;
        //console.log(nama); //hasil "wapek"
        //console.log(nilai); //hasil objek umur dan email
        //Untuk objek juga dapat dipersingkat dengan metode seperti ini:
        ({
            nama,
            umur,
            email
        } = {
            nama: "wapek",
            umur: 30,
            email: "edolaku @gmail.com"
        })
        console.log(nama); //hasil "wapek"
        console.log(umur); //hasil 30
        console.log(email); //hasil "edolaku@gmail.com"
        //////////////////////////////////////////

        const pgw = ["edo", "joko", "nurul", "wahyu"];
        const [satu, , , empat] =
        pgw
        ; //ini agar joko dan nurul tidak di definisikan/diskip itemnya, sehingga joko dan nurul tidak dapat dipanggil sebagai variabel
        console.log(satu); //hasilnya "edo"
        //////////////////////////////////////////

        //Destructuring assignment juga dapat digunakan untuk swap items. contoh:
        let i = 1;
        let y = 2;
        [i, y] = [y, i];
        console.log(y); //hasil 1
        console.log(i); //hasil 2
        //////////////////////////////////////////

        //Destructuring assignment juga dapat untuk return value pada function. jadi function nya dapat mengembalikan array, dan array nya langsung ditangkap oleh sintax Destructuring ini. contoh:
        function rtrn() {
            return ["fungsi return pertama", "fungsi return kedua"];
        }
        const [pertama, kedua] = rtrn(); //ini meng-unpack array pada return menjadi variabel
        console.log(pertama); //hasil "fungsi return pertama"

        //Destructuring assignment juga dapat digunakan untuk rest parameter. Contoh:
        const [p, ...sisa] = [1, 2, 3, 4, 5];

        console.log(p); //hasil 1, karena parameter p diisi oleh 1
        console.log(sisa); //hasil array 2, 3, 4, 5. 
        //////////////////////////////////////////

        //Mengambil field pada object, setelah dikirim sebagai parameter untuk function
        const pegawai = {
            umum: "wapek",
            pbj: "wahyu",
            ekonomi: "joko"
        };
        //untuk cara normal memanggil nilai dari properti diatas menggunakan function adalah dengan cara berikut:
        // function getProp(pegawai) {
        //     return pegawai.pbj;
        // }
        // console.log(getProp(pegawai)); //hasil wahyu, karena return adalah pegawai.pbj
        //namun jika menggunakan destructuring assignment dapat menggunakan perintah berikut:
        function getProp({
            pbj
        }) {
            return pbj;
        }
        console.log(getProp(pegawai)); //hasil wahyu
        //perintah tsb menggunakan destructuring assignment dengan pada function memanggil properti pbj, namun jika ingin memanggil properti yang lain, pada function jg harus dimasukkan propertinya terlebih dahulu dengan menggunakan "," misal: function getProp ({pbj, ekonomi}), sehingga nantinya ekonomi dapat dimasukkan ke dalam function getProp
    </script>
</body>

</html>